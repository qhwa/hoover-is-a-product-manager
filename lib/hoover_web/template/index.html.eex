<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Products Console</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.0/css/bulma.min.css">
  </head>

  <body>
    <div class="container">
      <h1 class="title is-1">Product Console</h1>

      <form method="post" enctype="multipart/form-data">
        <div class="field">
          <label class="label">Import from a CSV file</label>
          <input type="file" name="sheet" accept="text/csv" required>
        </div>
        <div class="field">
          <div class="control">
            <label class="checkbox">
              <input type="checkbox" name="delete_others">
              Products that are not in the CSV get deleted
            </label>
          </div>
        </div>
        <div class="field">
          <input type="submit" class="button is-primary">
        </div>
      </form>

      <hr class="hr">

      <h5 class="title is-5">Products</h5>
      <table class="table">
        <thead>
            <th>Part Number</th>
            <th>Branch ID</th>
            <th>Price</th>
            <th>Description</th>
        </thead>
        <tbody>
          <%= for product <- @products do %>
          <tr>
            <td><%= product.part_number %></td>
            <td><%= product.branch_id %></td>
            <td><%= product.part_price %></td>
            <td><%= product.short_desc %></td>
          </tr>
          <% end %>
    </div>
